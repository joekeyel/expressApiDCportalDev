{"version":3,"sources":["views/Dashboard/Summary.js"],"names":["axios","require","Summary","props","React","useState","allData","setAllData","barData","setBarData","useEffect","get","then","response","data","makeBar","catch","error","console","log","spaceData","spaceData2","spaceLabel","spaceLabel2","map","d","push","SPACE_AVAILABLE","SPACE_UTILIZED","LOCN_NAME","SPACE_CAPACITY","labels","datasets","stack","label","indexLabel","backgroundColor","container","options","scales","xAxes","stacked","yAxes","index","plugins","datalabels","display","color","animation","duration","item","body","style","width","height","alignItems","colorPower","colorSpace","colorRack","POWER_UTILIZATION","SPACE_UTILIZATION","RACK_UTILIZATION","xs","sm","md","lg","id","LOCN_ID","padding","className","marginBottom","POWER_INSERVICE","POWER_RESERVED","POWER_CAPACITY","RACK_UTILIZED","RACK_CAPACITY"],"mappings":"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","file":"static/js/102.161c8210.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Pie, Bar } from 'react-chartjs-2';\nimport Container from '@material-ui/core/Container';\nimport {Grid, Paper, Box } from '@material-ui/core';\nimport 'chartjs-plugin-datalabels';\nimport { Badge, Button,CardTitle,CardText, Card, CardBody, CardFooter, CardHeader,Progress, Col, Form, FormGroup, Label, Row, Input } from 'reactstrap';\n\nconst axios = require('axios');\n\nconst Summary = (props) => {\n    const [allData, setAllData] = React.useState([]);\n    const [cardColor, setCardColor] = React.useState('');\n    const [barData, setBarData] = React.useState([]);\n\n    useEffect(() => {\n        axios.get('/claritybqm/reportFetch/?scriptName=DC_DASHBOARD_INFO')\n            .then(function (response) {\n                //console.log('d',response.data);\n            \n                // handle success\n                if (response.data) {\n                    setAllData(response.data);\n                    makeBar(response.data);\n                };\n            })\n            .catch(function (error) {\n                // handle error\n                console.log(error);\n            })\n    });\n\n\n    const makeBar = (data) => {\n        //console.log('makeBar',data);\n        \n        var spaceData = [],\n            spaceData2 = [],\n            spaceLabel = [],\n            spaceLabel2 = [];\n\n        data.map((d) => {\n            spaceData.push(d.SPACE_AVAILABLE);\n            spaceData2.push(d.SPACE_UTILIZED);\n            spaceLabel.push(d.LOCN_NAME);\n            spaceLabel2.push(d.SPACE_CAPACITY);\n        });\n\n        const arbitraryStackKey = \"stack\"; /**to make stack bar */\n\n        const state = {\n            labels: spaceLabel,\n            datasets: [\n                {\n                    stack: arbitraryStackKey,\n                    label: 'Available DC Space (sqft)',\n                    indexLabel: spaceLabel2,\n                    backgroundColor: 'rgba(0, 20, 187)',\n                    data: spaceData\n                  },\n                  {\n                    stack: arbitraryStackKey,\n                    label: 'Utilize DC Space (sqft)',\n                    backgroundColor: 'rgba(248, 111, 27)',\n                    data: spaceData2   \n                  }\n                // {\n                //     label: 'Available DC Space (sqft)',\n                //     backgroundColor: 'rgba(0, 20, 187)',\n                //     borderColor: 'rgba(255,99,132,1)',\n                //     borderWidth: 1,\n                //     //hoverBackgroundColor: 'rgba(255,99,132,0.4)',\n                //     //hoverBorderColor: 'rgba(255,99,132,1)',\n                //     data: spaceData\n                // },\n                // {\n                //     label: 'Utilize DC Space (sqft)',\n                //     backgroundColor: 'rgba(248, 111, 27)',\n                //     borderColor: 'rgba(255,99,132,1)',\n                //     borderWidth: 1,\n                //     //hoverBackgroundColor: 'rgba(182, 248, 115)',\n                //     //hoverBorderColor: 'rgba(255,99,132,1)',\n                //     data: spaceData2\n                // }\n            ]\n        };\n        setBarData(state);\n\n    }\n\n    const options = {\n        scales: {\n             xAxes: [{\n                 stacked: true,\n             }],\n             yAxes: [{\n                 stacked: true,\n                 index: true\n             }]\n         },\n         plugins: {/**display label inside bar */\n            datalabels: {\n               display: true,\n               color: 'white',\n            }\n         },\n         animation: {\n            duration: 0,\n            // onComplete: function () {\n            //     var ctx = props.chart.ctx;\n            //     ctx.font = props.Chart.helpers.fontString(props.Chart.defaults.global.defaultFontFamily, 'normal', props.Chart.defaults.global.defaultFontFamily);\n            //     ctx.fillStyle = \"black\";\n            //     ctx.textAlign = 'center';\n            //     ctx.textBaseline = 'bottom';\n        \n            //     this.data.datasets.forEach(function (dataset)\n            //     {\n            //         for (var i = 0; i < dataset.data.length; i++) {\n            //             for(var key in dataset._meta)\n            //             {\n            //                 var model = dataset._meta[key].data[i]._model;\n            //                 ctx.fillText(dataset.data[i], model.x, model.y - 5);\n            //             }\n            //         }\n            //     });\n            // }\n          },\n     }\n    \n    return (<Container>\n            <Grid container>\n                <h2>SUMMARY OF DC LOCATION SPACE UTILIZATION</h2>\n                <Bar \n                    data={barData} \n                    options={options}\n                />\n            </Grid>\n            <Grid container>\n            <h2>EXECUTIVE SUMMARY FOR DCO 1</h2>\n            <Grid container>\n                <Grid item>\n                <h5>Lagend:</h5>\n                        <Row>\n                            <Col>\n                                <Card body color=\"success\" style={{width:'180px', height: '5px', alignItems: 'center'}}><CardTitle><h6>Below 70%</h6></CardTitle></Card>\n                            </Col>\n                            <Col>\n                                <Card body color=\"warning\" style={{width:'180px', height: '5px', alignItems: 'center'}}><CardTitle><h6>Between 70%-98%</h6></CardTitle></Card>\n                            </Col>\n                            <Col>\n                                <Card body color=\"danger\" style={{width:'180px', height: '5px', alignItems: 'center'}}><CardTitle><h6>90% and above</h6></CardTitle></Card>\n                            </Col>\n                        </Row>\n               </Grid>\n             </Grid>\n            <Grid container>\n                    {\n                        allData.map((d,index)=>{\n                            \n                            var colorPower = \"\";\n                            var colorSpace = \"\";\n                            var colorRack = \"\";\n                            \n                            if(d.POWER_UTILIZATION < '75%'){\n                                colorPower= \"success\" \n                            }\n                            else if(d.POWER_UTILIZATION >= '75%'){\n                                colorPower= \"warning\"\n                            }\n                            else if(d.POWER_UTILIZATION >= '90%'){\n                                colorPower= \"danger\"\n                            }\n\n                            if(d.SPACE_UTILIZATION < '75%'){\n                                colorSpace= \"success\"  \n                            }\n                            else if(d.SPACE_UTILIZATION >= '75%'){\n                                colorSpace= \"warning\"\n                            }\n                            else if(d.SPACE_UTILIZATION >= '90%'){\n                                colorSpace= \"danger\"\n                            }\n\n                            if(d.RACK_UTILIZATION < '75%'){\n                                colorRack= \"success\"   \n                            }\n                            else if(d.RACK_UTILIZATION >= '75%'){\n                                colorRack= \"warning\"\n                            }\n                            else if(d.RACK_UTILIZATION >= '90%'){\n                                colorRack= \"danger\"\n                            }\n                        \n                    \n                            return(\n                                <Grid item xs={12} sm={12} md={4} lg={4}>\n                                    <Card id={d.LOCN_ID} style={{padding: '10px'}}>\n                                        <div className=\"animated fadeIn\" style={{padding: '10px'}}>\n                                        <h6>{d.LOCN_NAME}</h6>\n                                        <Card body id={d.POWER_UTILIZATION} color={colorPower} style={{marginBottom: '0px'}}>\n                                            <Row>\n                                                <Col xs='4'>\n                                                    <CardTitle><h3><strong>{d.POWER_UTILIZATION}</strong></h3></CardTitle>\n                                                    <CardText>Used & Reserved Power</CardText>\n                                                </Col>\n                                                <Col xs='2'>\n                                                    <CardText>{d.POWER_UTILIZATION}</CardText>{ /** used power percentage */}\n                                                    <CardText>{d.POWER_UTILIZATION}</CardText>{ /** reserved power percentege*/}\n                                                </Col>\n                                                <Col xs='3'>\n                                                    <CardText>{d.POWER_INSERVICE} (kW)</CardText>{ /** used power */}\n                                                    <CardText>{d.POWER_RESERVED} (kW)</CardText>{ /** reserved power */}\n                                                    <CardText>{d.POWER_CAPACITY} (kW)</CardText>{ /** capacity power */}\n                                                </Col>\n                                                <Col xs='3'>\n                                                    <CardText>Used</CardText>{ /** used power */}\n                                                    <CardText>Reserved</CardText>{ /** reserved power */}\n                                                    <CardText>Capacity</CardText>{ /** capacity power */}\n                                                </Col>\n                                            </Row>\n                                        </Card>\n                                        <Card body id={d.SPACE_UTILIZATION} color={colorSpace} style={{marginBottom: '0px'}}>\n                                            <Row>\n                                                <Col xs='4'>\n                                                    <CardTitle><h3><strong>{d.SPACE_UTILIZATION}</strong></h3></CardTitle>\n                                                    <CardText>Used Space</CardText>\n                                                </Col>\n                                                <Col xs='2'>\n                                                {/**empty */}\n                                                </Col>\n                                                <Col xs='3'>\n                                                    <CardText>{d.SPACE_UTILIZED} (sqft)</CardText>{ /** used space */}\n                                                    <CardText>{d.SPACE_CAPACITY} (sqft)</CardText>{ /** capacity space */}\n                                                </Col>\n                                                <Col xs='3'>\n                                                    <CardText>Used</CardText>{ /** used space */}\n                                                    <CardText>Capacity</CardText>{ /** capacity space */}\n                                                </Col>\n                                            </Row>\n                                        </Card>\n                                        <Card body id={d.RACK_UTILIZATION} color={colorRack} style={{marginBottom: '0px'}}>\n                                            <Row>\n                                                <Col xs='4'>\n                                                    <CardTitle><h3><strong>{d.RACK_UTILIZATION}</strong></h3></CardTitle>\n                                                    <CardText>Used Rack</CardText>\n                                                </Col>\n                                                <Col xs='2'>\n                                                {/**empty */}\n                                                </Col>\n                                                <Col xs='3'>\n                                                    <CardText>{d.RACK_UTILIZED} (onos)</CardText>{ /** used rack */}\n                                                    <CardText>{d.RACK_CAPACITY} (onos)</CardText>{ /** capacity rack */}\n                                                </Col>\n                                                <Col xs='3'>\n                                                    <CardText>Used</CardText>{ /** used rack */}\n                                                    <CardText>Capacity</CardText>{ /** capacity rack */}\n                                                </Col>\n                                            </Row>\n                                        </Card>\n                                    </div>\n                                    </Card>\n                            </Grid>\n                            )\n                        })\n                    }\n             </Grid>\n        </Grid>\n        </Container>);\n}\nexport default Summary;"],"sourceRoot":""}